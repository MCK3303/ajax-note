<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- src引入axios.js -->
    <script crossorigin="anonymous" src="https://cdn.bootcdn.net/ajax/libs/axios/0.26.1/axios.js"></script>
</head>
<style>
    .get{
        width: 85px;
        height: 30px;
        background-color: #E36303;
        color: #FFF;
        border-radius: 8%;
    }
    .post{
        width: 85px;
        height: 30px;
        background-color: #03E6E3;
        color: #FFF;
        border-radius: 8%;
    }
    .ajax{
        width: 85px;
        height: 30px;
        background-color: blue;
        color: #FFF;
        border-radius: 8%;
    }
</style>
<body>
    <!-- Axios是一个封装好的ajax框架 -->
    <h3>Axios发送ajax请求↓</h3>
    <hr>
    <button class="get">get</button>
    <button class="post">post</button>
    <button class="ajax">通用型ajax</button>
    <script>
        const btns = document.querySelectorAll('button');
        //配置baseURL 在指定URL时就会自动带上该baseURL
        axios.defaults.baseURL = 'http://localhost:8000';

        btns[0].onclick = function(){
            //axios get请求
            axios.get('/axios-server',{
                //URL参数
               params:{
                   id:100
               },
                //请求头信息
               headers:{
                  name:'mmm'
               }
               //请求成功后 调用then处理接收的数据（基于Promise）
            }).then(response =>{
                console.log(response);
            });
        }
        btns[1].onclick = function(){
            //axios post请求
            axios.post('/axios-server',{
                //URL参数
               params:{
                   id:200
               },
                //请求头信息
               headers:{
                  name:'ppp'
               },
                //post设置请求体
               data:{
                username:'admin',
                password:'admin'
               }
            });
        }
        btns[2].onclick = function(){
            //axios ajax通用请求
            axios({
            //请求方法
            method:'post',
            url:'/axios-server',
            //URL 参数
            params:{
                canshu:1
            },
            //头信息
            headers:{
                qingqiutou:111
            },
            //请求体参数
            data:{
                username:'m'
            }

            }).then(response =>{
                console.log(response.data);
        })
    }



    </script>
</body>
</html>